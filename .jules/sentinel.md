## 2025-02-19 - Critical Exposure of Service Key and Client-Side Admin Logic
**Vulnerability:** The `VITE_SUPABASE_SERVICE_KEY` (Role: service_role) and `VITE_ADMIN_PASSWORD` are exposed in the client-side bundle. This allows any user to extract the service key, bypass Row Level Security (RLS), and gain full administrative access to the Supabase database.
**Learning:** The application relies on client-side "password protection" and a client-side Service Key to perform admin operations (updating player minutes) because it lacks a backend environment (Edge Functions or a dedicated server) to handle privileged operations securely. The developer knowingly exposed the key to "bypass RLS" for convenience, creating a critical security hole where "security by obscurity" is the only defense.
**Prevention:** Never expose Service Keys (`service_role`) in client-side code. Use Supabase Auth and RLS policies to control access. For operations requiring elevated privileges that cannot be handled by RLS, use Supabase Edge Functions or a secure backend environment where the Service Key is kept as a server-side secret. Do not implement client-side password checks for sensitive operations.
