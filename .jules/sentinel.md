## 2024-05-22 - Exposed Supabase Service Key
**Vulnerability:** The application was exposing the Supabase Service Role Key (`VITE_SUPABASE_SERVICE_KEY`) to the client-side bundle via the `VITE_` prefix. This key bypasses Row Level Security (RLS) and grants full administrative access to the database.
**Learning:** The previous implementation attempted to "secure" this key by using it only in a `supabaseAdmin` client protected by a simple password check in the UI. However, since the key was imported using `import.meta.env.VITE_...`, it was embedded in the JavaScript bundle and accessible to anyone inspecting the source code.
**Prevention:** Never use the Service Role Key in a client-side application. It should only be used in secure server-side environments (like Edge Functions or a backend server). If administrative actions are needed from the client, they should be performed by an authenticated user with appropriate RLS policies, or via a call to a secure backend endpoint.
